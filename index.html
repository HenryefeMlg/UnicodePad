<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Henry Games Unicode Pad</title>
<style>
:root {
  --bg-color: #fff8dc; /* Ba≈ülangƒ±√ß krem-sarƒ± */
  --panel-bg: #fff;
  --text-color: #000;
  --button-bg: #4CAF50;
  --button-hover: #45a049;
}
body {
  font-family: Arial, sans-serif;
  margin:0;
  padding:15px;
  background: var(--bg-color);
  color: var(--text-color);
  transition: background 0.3s, color 0.3s;
}
h1 { text-align:center; font-size:1.8em; margin-bottom:10px; color: var(--text-color); }
#topText {
  width:100%;
  min-height:100px;
  padding:10px;
  font-size:1.2em;
  border-radius:8px;
  border:1px solid #ccc;
  margin-bottom:10px;
  resize:vertical;
  background: var(--panel-bg);
  color: var(--text-color);
  transition: background 0.3s, color 0.3s;
}
#charPanel {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(40px,1fr));
  gap:4px;
  max-height:60vh;
  overflow-y:auto;
  padding:5px;
  border:1px solid #ccc;
  border-radius:8px;
  background: var(--panel-bg);
  transition: background 0.3s;
}
.char-btn {
  display:flex;
  justify-content:center;
  align-items:center;
  padding:8px;
  font-size:1.5em;
  cursor:pointer;
  border:1px solid #ddd;
  border-radius:4px;
  background:#fff;
  transition: background 0.2s;
  user-select:none;
}
.char-btn:hover { background:#e0e0e0; }
button.copy-btn {
  display:block;
  width:100%;
  padding:10px;
  font-size:1.2em;
  background: var(--button-bg);
  color:white;
  border:none;
  border-radius:8px;
  cursor:pointer;
  transition: background 0.2s;
  margin-bottom:10px;
}
button.copy-btn:hover { background: var(--button-hover); }
#themeBtn {
  position:fixed;
  top:10px;
  right:10px;
  padding:8px 12px;
  border:none;
  border-radius:6px;
  cursor:pointer;
  background:#333;
  color:white;
  z-index:1000;
}
#themePanel {
  position:fixed;
  top:50px;
  right:10px;
  padding:10px;
  border:1px solid #ccc;
  border-radius:6px;
  background:white;
  display:none;
  z-index:1000;
}
#themePanel input[type=color], #themePanel input[type=text] {
  margin-bottom:5px;
  width:100%;
  padding:5px;
  border-radius:4px;
  border:1px solid #ccc;
}
#themePanel button { width:100%; padding:5px; border:none; border-radius:4px; background:#4CAF50; color:white; cursor:pointer; }
#themePanel button:hover { background:#45a049; }

/* Mobil i√ßin responsive */
@media(max-width:600px){
  #charPanel { grid-template-columns:repeat(auto-fill,minmax(30px,1fr)); }
  .char-btn { font-size:1.2em; padding:6px; }
}
</style>
</head>
<body>

<h1>Henry Games Unicode Pad</h1>

<textarea id="topText" placeholder="Se√ßilen karakterler buraya eklenecek..."></textarea>
<button class="copy-btn" onclick="copyAll()">Kopyala üìã</button>

<div id="charPanel"></div>

<!-- Ses efekti -->
<audio id="copySound" src="soundclip.wav"></audio>

<button id="themeBtn">Tema ‚öôÔ∏è</button>
<div id="themePanel">
  <label>Renk Se√ß (arka plan)</label>
  <input type="color" id="bgColorPicker" value="#fff8dc">
  <label>Hex Kodu Gir</label>
  <input type="text" id="bgHexInput" placeholder="#fff8dc">
  <button onclick="applyTheme()">Tamam</button>
</div>

<script>
const panel = document.getElementById('charPanel');
const topText = document.getElementById('topText');
const copySound = document.getElementById('copySound');

// Unicode karakterleri veri seti (~1.9M karakter)
// Tarayƒ±cƒ±yƒ± korumak i√ßin lazy load chunk
const unicodeData = [];
for(let i=0x0020; i<=0x10FFFF; i++){
  try { unicodeData.push(String.fromCodePoint(i)); } catch(e){ continue; }
}

let loadedChars = 0;
const chunkSize = 500;

// Lazy load karakterleri y√ºkleme
function loadMoreChars(){
  const end = Math.min(loadedChars + chunkSize, unicodeData.length);
  for(let i=loadedChars; i<end; i++){
    const btn = document.createElement('div');
    btn.textContent = unicodeData[i];
    btn.className='char-btn';
    btn.onclick = ()=>topText.value += unicodeData[i];
    panel.appendChild(btn);
  }
  loadedChars = end;
}

// Scroll ile lazy load
panel.addEventListener('scroll', ()=>{
  if(panel.scrollTop + panel.clientHeight >= panel.scrollHeight - 5){
    if(loadedChars < unicodeData.length) loadMoreChars();
  }
});

// ƒ∞lk y√ºkleme
loadMoreChars();

// Kopyala fonksiyonu ve ses
function copyAll(){
  navigator.clipboard.writeText(topText.value)
    .then(()=>{
      copySound.play();
      alert("Kopyalandƒ±!");
    })
    .catch(err=>alert("Kopyalama ba≈üarƒ±sƒ±z: "+err));
}

// Tema paneli a√ß/kapa
const themeBtn = document.getElementById('themeBtn');
const themePanel = document.getElementById('themePanel');
themeBtn.addEventListener('click', ()=>{ themePanel.style.display = themePanel.style.display==='block'?'none':'block'; });

// Tema uygula
function applyTheme(){
  const color = document.getElementById('bgColorPicker').value;
  const hex = document.getElementById('bgHexInput').value;
  const finalColor = hex ? hex : color;
  document.documentElement.style.setProperty('--bg-color', finalColor);
  themePanel.style.display='none';
}
</script>

</body>
</html>
