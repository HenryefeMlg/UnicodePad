<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Henry Games Unicode Pad</title>
<style>
:root {
  --bg-color: #fff8dc;
  --panel-bg: #fff;
  --text-color: #000;
  --button-bg: #4CAF50;
  --button-hover: #45a049;
}
body { font-family: Arial; margin:0; padding:15px; background: var(--bg-color); color: var(--text-color); transition: background 0.3s, color 0.3s; }
h1 { text-align:center; font-size:1.8em; margin-bottom:10px; color: var(--text-color);}
#topText { width:100%; min-height:100px; padding:10px; font-size:1.2em; border-radius:8px; border:1px solid #ccc; margin-bottom:10px; resize:vertical; background: var(--panel-bg); color: var(--text-color); transition: background 0.3s, color 0.3s; max-height:30vh;}
#charPanel { position:relative; width:100%; min-height:600px; max-height:calc(100vh - 250px); overflow-y:scroll; border:1px solid #ccc; border-radius:8px; background: var(--panel-bg); display:grid; grid-template-columns:repeat(auto-fill,minmax(40px,1fr)); gap:4px; transition: background 0.3s; }
.char-btn { display:flex; justify-content:center; align-items:center; font-size:1.5em; border-radius:4px; cursor:pointer; user-select:none; background:#fff; border:1px solid #ddd; }
.char-btn:hover { background:#e0e0e0; }
button.copy-btn { width:100%; padding:10px; font-size:1.2em; background: var(--button-bg); color:white; border:none; border-radius:8px; cursor:pointer; margin-bottom:10px; }
button.copy-btn:hover { background: var(--button-hover); }
#themeBtn { position:fixed; top:10px; right:10px; padding:8px 12px; border:none; border-radius:50%; cursor:pointer; background:#333; color:white; z-index:1000; font-size:1.2em; }
#themePanel { position:fixed; top:50px; right:10px; padding:10px; border:1px solid #ccc; border-radius:6px; background:white; display:none; z-index:1000; }
#themePanel input[type=color], #themePanel input[type=text] { margin-bottom:5px; width:100%; padding:5px; border-radius:4px; border:1px solid #ccc; }
#themePanel button { width:100%; padding:5px; border:none; border-radius:4px; background:#4CAF50; color:white; cursor:pointer; }
#themePanel button:hover { background:#45a049; }

/* Mobile */
@media(max-width:600px){
  #charPanel{grid-template-columns:repeat(auto-fill,minmax(30px,1fr));}
  .char-btn{font-size:1.2em;padding:6px;}
  #themeBtn{font-size:1em;padding:6px;}
  #charPanel {min-height:400px;}
}
</style>
</head>
<body>

<h1>Henry Games Unicode Pad</h1>
<textarea id="topText" placeholder="Se√ßilen karakterler buraya eklenecek..."></textarea>
<button class="copy-btn" onclick="copyAll()">Kopyala üìã</button>

<div id="charPanel"></div>
<audio id="copySound" src="soundclip.wav"></audio>

<!-- Tema emoji butonu -->
<button id="themeBtn">‚öôÔ∏è</button>
<div id="themePanel">
  <label>Renk Se√ß (arka plan)</label>
  <input type="color" id="bgColorPicker" value="#fff8dc">
  <label>Hex Kodu Gir</label>
  <input type="text" id="bgHexInput" placeholder="#fff8dc">
  <button id="applyThemeBtn">Tamam</button>
</div>

<script>
const panel = document.getElementById('charPanel');
const topText = document.getElementById('topText');
const copySound = document.getElementById('copySound');

// Unicode karakterleri (performans i√ßin blok blok y√ºklenecek)
const unicodeBlocks = [
  [0x0020, 0x007F],   // Basic Latin
  [0x00A0, 0x00FF],   // Latin-1 Supplement
  [0x0400, 0x04FF],   // Cyrillic
  [0x1F300, 0x1F5FF], // Emojiler
  [0x1F600, 0x1F64F], // Smileys
  [0x0370, 0x03FF],   // Greek
  // diƒüer bloklar isteƒüe g√∂re eklenebilir
];
let unicodeData = [];

unicodeBlocks.forEach(block=>{
  for(let i=block[0];i<=block[1];i++){
    try{ unicodeData.push(String.fromCodePoint(i)); }
    catch(e){ continue; }
  }
});

let loadedChars = 0;
const chunkSize = 1000; // ba≈ülangƒ±√ßta daha fazla y√ºkle, scroll hemen olu≈üur

function loadMoreChars(){
  const end = Math.min(loadedChars + chunkSize, unicodeData.length);
  for(let i=loadedChars; i<end; i++){
    const btn = document.createElement('div');
    btn.textContent = unicodeData[i];
    btn.className = 'char-btn';
    btn.onclick = ()=>topText.value += unicodeData[i];
    panel.appendChild(btn);
  }
  loadedChars = end;
}

panel.addEventListener('scroll', ()=>{
  if(panel.scrollTop + panel.clientHeight >= panel.scrollHeight - 5){
    if(loadedChars < unicodeData.length) loadMoreChars();
  }
});

// ƒ∞lk y√ºkleme
loadMoreChars();

// Kopyala ve ses
function copyAll(){
  navigator.clipboard.writeText(topText.value)
    .then(()=>{ copySound.play(); /* toast mesaj yerine alert opsiyonel */ })
    .catch(err=>alert("Kopyalama ba≈üarƒ±sƒ±z: "+err));
}

// Tema paneli a√ß/kapa
const themeBtn = document.getElementById('themeBtn');
const themePanel = document.getElementById('themePanel');
themeBtn.addEventListener('click', ()=>{ themePanel.style.display = themePanel.style.display==='block'?'none':'block'; });

// Tema uygula ve kaydet
function applyTheme(){
  const hex = document.getElementById('bgHexInput').value.trim();
  const color = document.getElementById('bgColorPicker').value;
  const finalColor = /^#([0-9A-F]{3}){1,2}$/i.test(hex) ? hex : color;
  document.documentElement.style.setProperty('--bg-color', finalColor);
  localStorage.setItem('savedTheme', finalColor);
}
document.getElementById('applyThemeBtn').addEventListener('click', applyTheme);

// Sayfa a√ßƒ±ldƒ±ƒüƒ±nda kaydedilen temayƒ± uygula
window.addEventListener('load', ()=>{
  const saved = localStorage.getItem('savedTheme');
  if(saved){
    document.documentElement.style.setProperty('--bg-color', saved);
    document.getElementById('bgColorPicker').value = saved;
    document.getElementById('bgHexInput').value = saved;
  }
});
</script>

</body>
</html>
