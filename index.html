<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Henry Games Unicode Pad</title>
<style>
body {font-family: Arial; padding:15px; margin:0; background:#f9f9f9;}
h1 {text-align:center; font-size:2em; margin-bottom:10px; color:#333;}
#search {width:100%; padding:10px; font-size:1em; margin-bottom:10px; border-radius:8px; border:1px solid #ccc; box-sizing:border-box;}
.categories {display:flex; gap:10px; margin-bottom:15px; flex-wrap:wrap;}
.cat-btn {padding:8px 12px; border:1px solid #ccc; border-radius:8px; background:#fff; cursor:pointer; transition:.2s;}
.cat-btn.active, .cat-btn:hover {background:#4CAF50; color:white; border-color:#4CAF50;}
#charPanel {display:grid; grid-template-columns:repeat(auto-fill,minmax(40px,1fr)); gap:4px; margin-bottom:15px; max-height:50vh; overflow-y:auto; border:1px solid #ccc; background:#fff; padding:5px; border-radius:8px;}
.char-btn {background:white; border:1px solid #ccc; font-size:1.2em; cursor:pointer; padding:8px 0; border-radius:4px; text-align:center; user-select:none; transition:.2s;}
.char-btn:hover {background:#e0e0e0;}
#topText {width:100%; min-height:100px; border:1px solid #ccc; border-radius:8px; padding:10px; margin-bottom:10px; font-size:1.2em; resize:vertical;}
button.copy-btn{padding:10px 20px; font-size:1.2em; cursor:pointer; border-radius:8px; border:none; background:#4CAF50; color:white; transition:.2s;}
button.copy-btn:hover{background:#45a049;}
</style>
</head>
<body>

<h1>Henry Games Unicode Pad</h1>

<input type="text" id="search" placeholder="Emoji veya karakter ismi ara...">
<div class="categories" id="categories"></div>

<textarea id="topText" placeholder="Seçilen karakterler buraya eklenecek..."></textarea>
<button class="copy-btn" onclick="copyAll()">Kopyala 📋</button>

<div id="charPanel"></div>

<script>
const panel = document.getElementById('charPanel');
const searchInput = document.getElementById('search');
const catContainer = document.getElementById('categories');
const topText = document.getElementById('topText');

// Örnek Unicode/Emoji veri seti (isim ile eşleşme için)
const unicodeData = [
  {char:"🐥", name:"civciv", category:"Emoji"},
  {char:"🐤", name:"civciv2", category:"Emoji"},
  {char:"★", name:"yıldız", category:"Sembol"},
  {char:"☀", name:"güneş", category:"Doğa"},
  {char:"☁", name:"bulut", category:"Doğa"},
  {char:"☂", name:"yağmur", category:"Doğa"},
  {char:"⚡", name:"şimşek", category:"Doğa"},
  {char:"♠", name:"maça", category:"Oyun Kartı"},
  {char:"♣", name:"sinek", category:"Oyun Kartı"},
  {char:"♥", name:"kupa", category:"Oyun Kartı"},
  {char:"♦", name:"karo", category:"Oyun Kartı"}
];

// Kategoriler
const categories = ["Tümü", ...new Set(unicodeData.map(u=>u.category))];
let currentCategory = "Tümü";

// Kategori butonları
categories.forEach(cat=>{
  const btn = document.createElement('div');
  btn.textContent = cat;
  btn.className='cat-btn';
  if(cat==="Tümü") btn.classList.add('active');
  btn.onclick=()=>{
    currentCategory = cat;
    document.querySelectorAll('.cat-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    loadedChars = 0;
    panel.innerHTML="";
    loadMoreChars();
  };
  catContainer.appendChild(btn);
});

let loadedChars = 0;
const chunkSize = 50; // Lazy load chunk
let currentSearch = "";

// Lazy load karakterler
function loadMoreChars(){
  const filtered = unicodeData.filter(item=>{
    const matchCategory = (currentCategory==="Tümü" || item.category===currentCategory);
    const matchSearch = !currentSearch || item.name.toLowerCase().includes(currentSearch.toLowerCase());
    return matchCategory && matchSearch;
  });
  const end = Math.min(loadedChars + chunkSize, filtered.length);
  for(let i=loadedChars; i<end; i++){
    const item = filtered[i];
    const btn = document.createElement('div');
    btn.textContent = item.char;
    btn.className='char-btn';
    btn.title=item.name;
    btn.onclick=()=>topText.value += item.char;
    panel.appendChild(btn);
  }
  loadedChars += chunkSize;
}

// Scroll ile lazy load
panel.addEventListener('scroll', ()=>{
  if(panel.scrollTop + panel.clientHeight >= panel.scrollHeight - 5){
    loadMoreChars();
  }
});

// Arama
searchInput.addEventListener('input', ()=>{
  currentSearch = searchInput.value.trim();
  loadedChars = 0;
  panel.innerHTML="";
  loadMoreChars();
});

// Başlangıç yüklemesi
loadMoreChars();

// Kopyala
function copyAll(){
  navigator.clipboard.writeText(topText.value)
    .then(()=>alert("Kopyalandı!"))
    .catch(err=>alert("Kopyalama başarısız: "+err));
}
</script>

</body>
</html>
